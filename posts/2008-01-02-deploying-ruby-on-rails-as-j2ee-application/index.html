<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Deploying Ruby on Rails as J2EE application | Ivan Sanchez</title>
<meta name="keywords" content="">
<meta name="description" content="If you haven&rsquo;t tried Ruby on Rails because was too busy developing your J2EE applications, now you have no more excuses! It&rsquo;s possible (and surprisingly simple) to deploy a RoR application in your favorite J2EE server just by following these few steps:
1. Install JRuby on Rails Get JRuby and install the Ruby on Rails gem:
gem install rails --include-dependencies --no-rdoc --no-ri 2. Create a simple test application Run the following commands to set up your new application:">
<meta name="author" content="">
<link rel="canonical" href="https://isanchez.net/posts/2008-01-02-deploying-ruby-on-rails-as-j2ee-application/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css" integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://isanchez.net/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://isanchez.net/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://isanchez.net/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://isanchez.net/apple-touch-icon.png">
<link rel="mask-icon" href="https://isanchez.net/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-6583325-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Deploying Ruby on Rails as J2EE application" />
<meta property="og:description" content="If you haven&rsquo;t tried Ruby on Rails because was too busy developing your J2EE applications, now you have no more excuses! It&rsquo;s possible (and surprisingly simple) to deploy a RoR application in your favorite J2EE server just by following these few steps:
1. Install JRuby on Rails Get JRuby and install the Ruby on Rails gem:
gem install rails --include-dependencies --no-rdoc --no-ri 2. Create a simple test application Run the following commands to set up your new application:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://isanchez.net/posts/2008-01-02-deploying-ruby-on-rails-as-j2ee-application/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2008-01-02T09:55:42+00:00" />
<meta property="article:modified_time" content="2008-01-02T09:55:42+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Deploying Ruby on Rails as J2EE application"/>
<meta name="twitter:description" content="If you haven&rsquo;t tried Ruby on Rails because was too busy developing your J2EE applications, now you have no more excuses! It&rsquo;s possible (and surprisingly simple) to deploy a RoR application in your favorite J2EE server just by following these few steps:
1. Install JRuby on Rails Get JRuby and install the Ruby on Rails gem:
gem install rails --include-dependencies --no-rdoc --no-ri 2. Create a simple test application Run the following commands to set up your new application:"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://isanchez.net/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Deploying Ruby on Rails as J2EE application",
      "item": "https://isanchez.net/posts/2008-01-02-deploying-ruby-on-rails-as-j2ee-application/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Deploying Ruby on Rails as J2EE application",
  "name": "Deploying Ruby on Rails as J2EE application",
  "description": "If you haven\u0026rsquo;t tried Ruby on Rails because was too busy developing your J2EE applications, now you have no more excuses! It\u0026rsquo;s possible (and surprisingly simple) to deploy a RoR application in your favorite J2EE server just by following these few steps:\n1. Install JRuby on Rails Get JRuby and install the Ruby on Rails gem:\ngem install rails --include-dependencies --no-rdoc --no-ri 2. Create a simple test application Run the following commands to set up your new application:",
  "keywords": [
    
  ],
  "articleBody": "If you haven’t tried Ruby on Rails because was too busy developing your J2EE applications, now you have no more excuses! It’s possible (and surprisingly simple) to deploy a RoR application in your favorite J2EE server just by following these few steps:\n1. Install JRuby on Rails Get JRuby and install the Ruby on Rails gem:\ngem install rails --include-dependencies --no-rdoc --no-ri 2. Create a simple test application Run the following commands to set up your new application:\nrails test_app cd test_app You’ll have to edit the first line of the created scripts (‘script’ directory) to use JRuby:\n#!/usr/bin/env jruby And at this point you’re ready to test your application:\nscript/server Open http://localhost:3000 and check if your application is running as it should.\nNow let’s create some functionality. First, edit your config/database.yml file, defining your development and production database as it follows. Note that we don’t need the test database and we can use the same database for both development and production for the scope of this example:\nadapter:mysqldatabase:test_appuser:rootpassword:xxxhost:localhostCreate a scaffold:\nscript/generate scaffold Dog name:string rake db:drop:all rake db:create:all rake db:migrate At this point you’re already able to point your browser to http://localhost:3000/dogs and start playing with with your database.\n3. Install the JDBC adapter and change your application In order to deploy as a Java web application, you’ll have to replace the database adapter by a JDBC one. To achieve this, first you need a new gem:\ngem install activerecord-jdbc-adapter --no-rdoc --no-ri You also need to copy your mysql driver (JAR file) to your JRUBY_HOME/lib directory and edit your database.yml once more:\nadapter:jdbcdriver:com.mysql.jdbc.Driverurl:jdbc:mysql://localhost/test_appusername:rootpassword:xxxhost:localhostRestart your server and, since we just changed its configuration, everything should be still working exactly as before.\n4. Install Goldspike and create your WAR file In your application directory, install the plugin:\nscript/plugin install http://jruby-extras.rubyforge.org/svn/trunk/rails-integration/plugins/goldspike To include your database driver in the generated archive, you have a few options (Maven is one of them), but for now let’s just copy it to the ‘WEB-INF/lib’ directory of the application:\nmkdir WEB-INF/lib cp $JRUBY_HOME/lib/mysql-connector-java-5.0.5-bin.jar WEB-INF/lib You also need to edit the app/controllers/application.rb file and include the line:\nprotect_from_forgery :secret = '6dc47d156f8f3724e4634c37bc0f9f94' Finally, to create your WAR file, run:\nrake war:standalone:create Deploy the generated file in your favorite J2EE server like Tomcat or WebLogic.\nConclusion The integration between Ruby on Rails and Java is easier than most people would expect, and it may become a new option to develop your next web application. That may be also a great motivation to learn JRuby and start taking advantage of its integration with existing Java code.\n",
  "wordCount" : "425",
  "inLanguage": "en",
  "datePublished": "2008-01-02T09:55:42Z",
  "dateModified": "2008-01-02T09:55:42Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://isanchez.net/posts/2008-01-02-deploying-ruby-on-rails-as-j2ee-application/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ivan Sanchez",
    "logo": {
      "@type": "ImageObject",
      "url": "https://isanchez.net/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://isanchez.net/" accesskey="h" title="Ivan Sanchez (Alt + H)">Ivan Sanchez</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://isanchez.net/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://isanchez.net/training/" title="Training">
                    <span>Training</span>
                </a>
            </li>
            <li>
                <a href="https://isanchez.net/speaking/" title="Speaking">
                    <span>Speaking</span>
                </a>
            </li>
            <li>
                <a href="https://isanchez.net/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Deploying Ruby on Rails as J2EE application
    </h1>
    <div class="post-meta"><span title='2008-01-02 09:55:42 +0000 UTC'>January 2, 2008</span>

</div>
  </header> 
  <div class="post-content"><p>If you haven&rsquo;t tried
<a href="http://www.rubyonrails.org/">Ruby on Rails</a> because was too busy developing your J2EE applications, now you have no more excuses! It&rsquo;s possible (and surprisingly simple) to deploy a RoR application in your favorite J2EE server just by following these few steps:</p>
<h2 id="1-install-jruby-on-rails">1. Install JRuby on Rails<a hidden class="anchor" aria-hidden="true" href="#1-install-jruby-on-rails">#</a></h2>
<p><a href="http://jruby.codehaus.org/Getting+Started">Get JRuby</a> and install the Ruby on Rails
<a href="http://rubygems.org/read/book/1">gem</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">gem install rails --include-dependencies --no-rdoc --no-ri
</code></pre></div><h2 id="2-create-a-simple-test-application">2. Create a simple test application<a hidden class="anchor" aria-hidden="true" href="#2-create-a-simple-test-application">#</a></h2>
<p>Run the following commands to set up your new application:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">rails test_app
<span class="nb">cd</span> test_app
</code></pre></div><p>You&rsquo;ll have to edit the first line of the created scripts (<strong>&lsquo;script</strong>&rsquo; directory) to use JRuby:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/usr/bin/env jruby
</span></code></pre></div><p>And at this point you&rsquo;re ready to test your application:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">script/server
</code></pre></div><p>Open
<a href="http://localhost:3000">http://localhost:3000</a> and check if your application is running as it should.</p>
<p>Now let&rsquo;s create some functionality. First, edit your <strong>config/database.yml</strong> file, defining your development and production database as it follows. Note that we don&rsquo;t need the test database and we can use the same database for both development and production  for the scope of this example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">adapter</span><span class="p">:</span><span class="w"> </span><span class="l">mysql</span><span class="w">
</span><span class="w"></span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l">test_app</span><span class="w">
</span><span class="w"></span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l">root</span><span class="w">
</span><span class="w"></span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l">xxx</span><span class="w">
</span><span class="w"></span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">localhost</span><span class="w">
</span></code></pre></div><p>Create a <a href="http://en.wikipedia.org/wiki/Scaffold_%28programming%29">scaffold</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">script/generate scaffold Dog name:string
rake db:drop:all
rake db:create:all
rake db:migrate
</code></pre></div><p>At this point you&rsquo;re already able to point your browser to <a href="http://localhost:3000/dogs">http://localhost:3000/dogs</a> and start playing with with your database.</p>
<h2 id="3-install-the-jdbc-adapter-and-change-your-application">3. Install the JDBC adapter and change your application<a hidden class="anchor" aria-hidden="true" href="#3-install-the-jdbc-adapter-and-change-your-application">#</a></h2>
<p>In order to deploy as a Java web application, you&rsquo;ll have to replace the database adapter by a JDBC one. To achieve this, first you need a new gem:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">gem install activerecord-jdbc-adapter --no-rdoc --no-ri
</code></pre></div><p>You also need to copy your mysql driver (JAR file) to your <strong>JRUBY_HOME/lib</strong> directory and edit your <strong>database.yml</strong> once more:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">adapter</span><span class="p">:</span><span class="w"> </span><span class="l">jdbc</span><span class="w">
</span><span class="w"></span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">com.mysql.jdbc.Driver</span><span class="w">
</span><span class="w"></span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">jdbc:mysql://localhost/test_app</span><span class="w">
</span><span class="w"></span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">root</span><span class="w">
</span><span class="w"></span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l">xxx</span><span class="w">
</span><span class="w"></span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">localhost</span><span class="w">
</span></code></pre></div><p>Restart your server and, since we just changed its configuration, everything should be still working exactly as before.</p>
<h2 id="4-install-goldspike-and-create-your-war-file">4. Install Goldspike and create your WAR file<a hidden class="anchor" aria-hidden="true" href="#4-install-goldspike-and-create-your-war-file">#</a></h2>
<p>In your application directory, install the <a href="http://wiki.jruby.org/wiki/Goldspike">plugin</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">script/plugin install http://jruby-extras.rubyforge.org/svn/trunk/rails-integration/plugins/goldspike
</code></pre></div><p>To include your database driver in the generated archive, you have a few options (Maven is one of them), but for now let&rsquo;s just copy it to the &lsquo;<strong>WEB-INF/lib</strong>&rsquo; directory of the application:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">mkdir WEB-INF/lib
cp <span class="nv">$JRUBY_HOME</span>/lib/mysql-connector-java-5.0.5-bin.jar WEB-INF/lib
</code></pre></div><p>You also need to edit the <strong>app/controllers/application.rb</strong> file and include the line:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">protect_from_forgery :secret <span class="o">=</span>&gt; <span class="s1">&#39;6dc47d156f8f3724e4634c37bc0f9f94&#39;</span>
</code></pre></div><p>Finally, to create your WAR file, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">rake war:standalone:create
</code></pre></div><p>Deploy the generated file in your favorite J2EE server like Tomcat or WebLogic.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>The integration between Ruby on Rails and Java is easier than most people would expect, and it may become a new option to develop your next web application. That may be also a great motivation to learn JRuby and start taking advantage of its <a href="http://jruby.codehaus.org/Java+Integration">integration with existing Java code</a>.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
